<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>CodePen - Rise - Input Text Field Label Animation</title>
  <link rel="stylesheet" href="static/style.css">
  <script type="text/javascript">
function tableCreate(a,b){
  var m = document.forms[0];
    var d = document.getElementById('d1');
        d.innerHTML="";
        tbl  = document.createElement('table');
    tbl.style.width  = '40px';
    tbl.style.border = '1';
        d.innerHTML="<h5>Enter the key value in the "+a.toString()+"x"+b.toString()+" matrix!</h5>";
    for(var i = 0; i < a; i++)
    {
        var tr = tbl.insertRow();

        for(var j = 0; j < b; j++)
        {
                var td = tr.insertCell();
                
                var inp = document.createElement('input')
                inp.setAttribute('type',"text1");
                inp.setAttribute('name',"frm_key"+i.toString()+j.toString());
                inp.setAttribute('size',"4");
                inp.setAttribute('pattern','[0-9]');
                inp.setAttribute('style','color:#7551e9;background-color: #eef;border: 1px solid black;font-size: 20px;background-color: #eef;color: #7551e9;text-align: center;')


                td.appendChild(m.appendChild(inp));
                td.style.border = '0px ';
        }
    }
    d.appendChild(tbl);
  }
    

function clr(){
  var d = document.getElementById('d1');
  d.innerHTML="";
}
function bt_disable(){
  document.getElementById('bt_decrypt').disabled = true;
}
function enable(){
  var d=document.getElementById('cb1');
  if (d.checked)
  {
    document.getElementById('bt_decrypt').disabled = false;
    var l=document.createElement('label');
    l.setAttribute('for','fname');
    l.innerHTML = "Size";
    var m=document.createElement('input');
    m.setAttribute('type',"text");
    m.setAttribute('name',"size");
    m.setAttribute('id',"size");
    m.setAttribute('required',"asd");
    m.setAttribute('onkeypress',"return (event.charCode !=8 && event.charCode ==0 || (event.charCode >= 48 && event.charCode <= 57))");
    m.setAttribute('placeholder',"Enter the length of the plane text!");
    var t = document.getElementById('size1');
    var o = document.createElement('br');
    t.appendChild(o);
    t.appendChild(m);
  }
  else
  {
    document.getElementById('bt_decrypt').disabled = true;
    var m=document.getElementById('size');
    m.parentNode.removeChild(m);

  }

}

function check_length(form){

var a,b;
a=document.getElementById('size').value;
b=document.getElementById('frm_pt').value;

if (a <= b.length)
{
  
  return true; 
}

if(a!=b.length){
  alert('The length of plane text provided is not equal!')
  return false;
}

}
  </script>
</head>
<body onload="tableCreate()">
<!-- partial:index.partial.html -->
<link href='https://fonts.googleapis.com/css?family=Lato:300' rel='stylesheet' type='text/css'>

<div class="wrap">
  <h1 style=color:#7551e9>Hill Cipher</h1><br>
  <h3>{{ suggestion }}</h3>
  <form action="/hill_cipher_encryption" method='post' onsubmit="return check_length(this)">
  <div>
    <label for="fname">Plain Text</label>
    <input id="frm_pt" name="frm_pt" type="text" class="cool" value="{{ pt }}" required />
  </div>

  <div>
    <label for="email">{{ text }}</label>
    <input type="text" class="cool" name="frm_ct" value="{{ ct }}"/>
  </div>
  <input type="Submit" name="" value="Decrypt" formaction="/hill_cipher_decryption" id="bt_decrypt">&nbsp
  <div id="size1" style="color: #7551e9">Do you want to decrypt?<input type="checkbox" name="cb1" id="cb1" onclick="enable()"><br></div>
  
  </form><br><br>
  <h2 style="color: #7551e9">This is the key matrix which is generated by the key:</h1><br><br>
  <table border=1 cellspacing="0" width="350">
    {% if  key1 != null %}
    {% for i in  key1  %}
    <tr>
    {% for j in  i %}
    
      <td style="color: #7551e9" align="center" height="50" width="350"><b>{{ j }}</b></td>
    
    {% endfor %}
    </tr>
  {% endfor %}
  {% endif %}
  </table><br><br>
  <a href="/hill_cipher">Click here to try another input to hill cipher!</a><br><br>
  <a href="/">Click here to go back to the home page</a>
  </div>
</div>

<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script><script  src="static/script1.js"></script>

</body>
</html>
